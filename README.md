# 「300円 おやつガチャ」

<img src ="https://user-images.githubusercontent.com/113824527/199857131-db86bd29-3d39-48e8-8637-89a089153915.png" width="600px">

## ①課題内容（どんな作品か）
- 一時期バズっていた[「サイゼリヤ1,000円ガチャ」](https://saizeriya-1000yen.marusho.io/)にインスピレーションを受けて、予算300円以内に収まるよう ランダムで駄菓子の組み合わせを提案するアプリを作りました。
- ガチャを引くと、お菓子セットのサマリ(テキストベース)と、画像の一覧が表示されます。
- 合計カロリーも出るので、ダイエット中にも安心です。

## ②工夫した点・こだわった点
- 駄菓子情報や、組み合わせ情報を配列で記録
  - 各お菓子の名前、値段、カロリーなどを配列に保存することでコードを圧縮しました

- ユーザの入力情報を別ページに持ち越し
  - スタート画面でユーザに名前を入力させ、localstorageを利用して結果の画面で使えるようにしました

- 課題提出3回目にして初のレスポンシブ対応
  - これにより、なんと！！どこでもガチャがひけるのです！！！

## ③難しかった点・次回トライしたいこと(又は機能)
### 難しかったこと
- 300円以内に収めるロジック
  - 「残金をチェックし、持ち金以上の駄菓子は買えないようにする」という条件付けが難しかった。
  - 当初はシンプルに「残金が0円にならない限り、ランダムで駄菓子の選択を繰り返す」というwhile文にしていたのだが、これだと最後の試行で累計額が300円を超えてしまう場合がある。(ex. 残金10円なのに、価格20円のチョコが買えてしまう)
  - 結局「①残金の範囲をチェック」「②生成する乱数の範囲を(手打ちで)調整」でやりたいことはできたが、もっとスマートにできる気がしている…

### 次回トライしたい機能
- 動的OGPをつけたかった
  - ガチャの結果を画像化し、SNS等でシェアできる画像にする というところまで、本当はやりたかった(「脳内メーカー」みたいなイメージ)
  - [「html2canvas」](http://html2canvas.hertzen.com/)というライブラリを使えばできそう というところまではわかったが、実装の時間が足りなかった…

- 結果画面に分析機能をいれてみたかった
  - 結果画面で「あまじょっぱさの構成比」みたいな円グラフなど
  - 栄養素のレーダーチャートなど

## ④質問・疑問・感想、シェアしたいこと等なんでも
### 質問・疑問
- 名前欄を入力必須にしたかったのですが、うまくいかないのはなぜだろう
  - inputエリアにrequired属性を入れたり、送信ボタンにbutton要素を使ったりしたのだが、入力必須にならず…。

- bodyのheightを100％にしても、背景色が縦いっぱいに広がらないのはなぜだろう
  - 親要素(html)のheightも100%に指定したのだが、縦の長さ=要素の高さの合計になってしまいうまくいかず。

### シェアしたいこと
- Githubのpushがうまくいかなかったけど、「Initialize this repository with a README」のせいだったようです
  - READMEファイルの有無で、リモートリポジトリとローカルの commit履歴に競合が発生していたらしい
  - いったんレポジトリを削除してしまい、「Initialize this repository with a README」にチェックを入れず再作成したらうまくいった


###  参考記事
- JavaScript / jQuery
  - [Progate JavaScript II 「繰り返し処理」「配列」「オブジェクト」](https://prog-8.com/lessons/es6/study/2)
  - [Progate JavaScript IV 「クラス」](https://prog-8.com/lessons/es6/study/4)

- HTML / CSS
  - [placeholderの色を変える](https://code-kitchen.dev/css/placeholder/)
  - [CSS： body の height を100％にしても上下に広がらない](https://at.sachi-web.com/blog-entry-1369.html)

- そのほか
  - [gitにpushする際に失敗してしまいます。](https://teratail.com/questions/187949)
  - [今さら聞けない！GitHubの使い方【超初心者向け】](https://magazine.techacademy.jp/magazine/6235#ta-toc-4)
